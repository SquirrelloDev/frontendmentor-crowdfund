"use strict";var daysLeft=document.querySelector(".card__days"),moneyGathered=document.querySelector(".card__money"),barFill=document.querySelector(".card__progressbar--fill"),backersTotal=document.querySelector(".card__backers"),continueButtons=document.querySelectorAll("input[data-tier]"),itemsLeft=document.querySelectorAll(".counter"),pledgeModal=document.querySelector(".modal__back"),modalConfirm=document.querySelector(".modal__confirm"),modalConfirmBtn=modalConfirm.querySelector(".modal__confirm__btn"),modalShadow=document.querySelector(".modal__shadow"),rewards=[{name:"Bamboo",tier:1,value:25,left:101},{name:"Black",tier:2,value:75,left:64},{name:"Mahogany",tier:3,value:200,left:0}],countDays=function(e){var e=e.getTime(),t=(new Date).getTime(),e=Math.floor((e-t)/864e5);daysLeft.textContent=e},computeBackedMoney=(countDays(new Date("Jun 23, 2022 15:00:00")),function(e){var t=parseInt(localStorage.getItem("amount"))||parseInt(moneyGathered.textContent.slice(1,moneyGathered.textContent.length).replace(",","")),t=Math.floor(t/1e3*100/e);barFill.style.width="".concat(t,"%")}),addMoneyAndBacker=(computeBackedMoney(100),function(e){var t=parseInt(localStorage.getItem("amount"))||parseInt(moneyGathered.textContent.slice(1,moneyGathered.textContent.length).replace(",","")),a=(console.log(t),parseInt(localStorage.getItem("backers"))||parseInt(backersTotal.textContent.replace(",","")));console.log(a),a++,moneyGathered.textContent="$".concat((t+=e).toLocaleString()),backersTotal.textContent="".concat(a.toLocaleString()),localStorage.setItem("amount",t),localStorage.setItem("backers",a),computeBackedMoney(100)}),confirmPledge=function(){(pledgeModal.classList.contains("modal__back--active")||modalShadow.classList.contains("modal__shadow--active"))&&(pledgeModal.classList.remove("modal__back--active"),modalConfirm.classList.add("modal__confirm--active"))},closeConfirm=function(){modalConfirm.classList.remove("modal__confirm--active"),modalShadow.classList.remove("modal__shadow--active")},handleOrder=function(e){e.preventDefault(),rewards[e.target.dataset.tier].left<=0?console.log("%cOUT OF STOCK DUDE!!","color:red; font-size:36px"):(parseInt(e.target.previousElementSibling.value)!=rewards[e.target.dataset.tier].value?addMoneyAndBacker(e.target.previousElementSibling.value):addMoneyAndBacker(rewards[e.target.dataset.tier].value),rewards[e.target.dataset.tier].left--,itemsLeft[e.target.dataset.tier].textContent=rewards[e.target.dataset.tier].left,itemsLeft[parseInt(e.target.dataset.tier)+3].textContent=rewards[e.target.dataset.tier].left,localStorage.setItem("tier".concat(e.target.dataset.tier,"-left"),rewards[e.target.dataset.tier].left),confirmPledge())},getItemsStock=function(){rewards.forEach(function(e,t){return e.left=parseInt(localStorage.getItem("tier".concat(t,"-left")))||parseInt(itemsLeft[t].textContent)}),itemsLeft.forEach(function(e,t){return e.textContent=(3<=t?rewards[t-3]:rewards[t]).left}),console.log(rewards)};function fetchMoney(){localStorage.getItem("amount")&&localStorage.getItem("backers")&&(moneyGathered.textContent="$".concat(parseInt(localStorage.getItem("amount")).toLocaleString()),backersTotal.textContent="".concat(localStorage.getItem("backers")))}continueButtons.forEach(function(e){return e.addEventListener("click",handleOrder)}),modalConfirmBtn.addEventListener("click",closeConfirm),getItemsStock(),fetchMoney();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXB1dGUuanMiXSwibmFtZXMiOlsiZGF5c0xlZnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtb25leUdhdGhlcmVkIiwiYmFyRmlsbCIsImJhY2tlcnNUb3RhbCIsImNvbnRpbnVlQnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpdGVtc0xlZnQiLCJwbGVkZ2VNb2RhbCIsIm1vZGFsQ29uZmlybSIsIm1vZGFsQ29uZmlybUJ0biIsIm1vZGFsU2hhZG93IiwicmV3YXJkcyIsIm5hbWUiLCJ0aWVyIiwidmFsdWUiLCJsZWZ0IiwicmVtYWluaW5nRGF5cyIsInNlbGVjdGVkRGF0ZSIsImVuZERhdGUiLCJ0ZXh0Q29udGVudCIsIm5vdyIsIkRhdGUiLCJnZXRUaW1lIiwiTWF0aCIsImZsb29yIiwiY291bnREYXlzIiwiY29tcHV0ZUJhY2tlZE1vbmV5IiwiZ29hbCIsImdhdGhlcmVkIiwicGFyc2VJbnQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2xpY2UiLCJsZW5ndGgiLCJyZXBsYWNlIiwicGVyY2VudGFnZSIsIndpZHRoIiwiYmFja2VycyIsImFkZE1vbmV5QW5kQmFja2VyIiwiY29uc29sZSIsImxvZyIsIm1vbmV5QW1vdW50Iiwic2V0SXRlbSIsInRvTG9jYWxlU3RyaW5nIiwiY29uZmlybVBsZWRnZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiY2xvc2VDb25maXJtIiwiaGFuZGxlT3JkZXIiLCJlIiwidGFyZ2V0IiwiZGF0YXNldCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJnZXRJdGVtc1N0b2NrIiwiZm9yRWFjaCIsInJld2FyZCIsImluZGV4IiwiY29uY2F0IiwiaXRlbSIsImZldGNoTW9uZXkiLCJhZGRFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFNQSxTQUFXQyxTQUFTQyxjQUFjLGVBQWxDRixjQUFXQyxTQUFTQyxjQUFjLGdCQUNsQ0MsUUFBQUEsU0FBZUYsY0FBU0MsNEJBQ3hCRSxhQUFVSCxTQUFTQyxjQUFjLGtCQUNqQ0csZ0JBQWVKLFNBQVNDLGlCQUFjLG9CQUN0Q0ksVUFBQUEsU0FBaUJMLGlCQUFTTSxZQUMxQkMsWUFBV1AsU0FBU00sY0FBaUIsZ0JBQ3JDRSxhQUFjUixTQUFTQyxjQUFjLG1CQUNyQ1EsZ0JBQWVULGFBQVNDLGNBQWMsd0JBQ3RDUyxZQUFlVixTQUFHUyxjQUFhUixrQkFDL0JVLFFBQVcsQ0FDWEMsQ0FFUUMsS0FBQSxTQUNBQyxLQUZWLEVBR1NDLE1BSFQsR0FJVUMsS0FBQSxLQUdOSCxDQUNNQSxLQUZWLFFBR1NDLEtBSFQsRUFJVUMsTUFBQSxHQUVWQyxLQUFBLElBRUlGLENBQ0tELEtBSFQsV0FJVUMsS0FBQSxFQUdkQyxNQUFBLElBSFFDLEtBQU0sSUFPSkMsVUFBQUEsU0FBYUMsR0FDbkJuQixJQUFRb0IsRUFBQ0MsRUFBY0gsVUFKM0JJLEdBQUEsSUFBQUMsTUFBQUMsVUFHVU4sRUFBZ0JPLEtBQUtDLE9BQVFOLEVBQVVFLEdBQVgsT0FHdENLLFNBQVVOLFlBQVNILEdBTWZkLG9CQUhKdUIsVUFBTUMsSUFBQUEsS0FBQUEsMEJBR0YsU0FBQUMsR0FISixJQUFBQyxFQUFBQyxTQUFBQyxhQUFBQyxRQUFBLFlBQUFGLFNBQUE1QixjQUFBa0IsWUFBQWEsTUFBQSxFQUFBL0IsY0FBQWtCLFlBQUFjLFFBQUFDLFFBQUEsSUFBQSxLQUVVQyxFQUFhWixLQUFLQyxNQUFPSSxFQUFVLElBQU8sSUFBT0QsR0FHM0RELFFBQUFBLE1BQWtCVSxNQUFsQlYsR0FBQUEsT0FFQVMsRUFGQVQsT0FNUVcsbUJBSFJYLG1CQUFNWSxLQUdzQlIsU0FBQUEsR0FDeEJTLElBQUFBLEVBQVlGLFNBQVpQLGFBQUFDLFFBQUEsWUFBQUYsU0FBQTVCLGNBQUFrQixZQUFBYSxNQUFBLEVBQUEvQixjQUFBa0IsWUFBQWMsUUFBQUMsUUFBQSxJQUFBLEtBRUFHLEdBREFULFFBQVFZLElBQUVDLEdBQ0haLFNBQUFDLGFBQUFDLFFBQUEsYUFBQUYsU0FBQTFCLGFBQUFnQixZQUFBZSxRQUFBLElBQUEsTUFDUGpDLFFBQUFBLElBQWNrQixHQUVkVyxJQUNBQSxjQUFhWSxZQUFiWixJQUFBQSxRQUZBM0IsR0FBWXNDLEdBRVpFLGtCQUVBakIsYUFBQUEsWUFBQUEsR0FBQUEsT0FBQVcsRUFBQU0sa0JBRUpiLGFBQUFZLFFBQUEsU0FBQWQsR0FKSUUsYUFBYVksUUFBUSxVQUFXTCxHQUs5Qk8sbUJBQWdCLE9BSWRwQyxjQUFhcUMsWUFDaEJ0QyxZQUFBc0MsVUFBQUMsU0FBQSx3QkFBQXBDLFlBQUFtQyxVQUFBQyxTQUFBLDRCQUZHdkMsWUFBWXNDLFVBQVVFLE9BQU8sdUJBSS9CQyxhQUFlSCxVQUFmRyxJQUFBQSw0QkFBTkEsYUFBQSxXQUNJeEMsYUFBYXFDLFVBQVVFLE9BQU8sMEJBRzVCRSxZQUFXSixVQUFHRSxPQUFkRSwwQkFBQUEsWUFBYyxTQUFDQyxHQUVqQkEsRUFBSXZDLGlCQUNBNEIsUUFBWVcsRUFBQUMsT0FBQUMsUUFBQXZDLE1BQVpFLE1BQXFDLEVBQ3JDd0IsUUFBQUMsSUFBQSx3QkFBQSw4QkFFSFgsU0FBV3NCLEVBQUFBLE9BQU9FLHVCQUF1QnZDLFFBQVVILFFBQVV3QyxFQUFBQSxPQUFPQyxRQUFRdkMsTUFBTUMsTUFBUXdCLGtCQUFvQmEsRUFBQUEsT0FBT0UsdUJBQXVCdkMsT0FBU3dCLGtCQUFrQjNCLFFBQVV3QyxFQUFBQSxPQUFPQyxRQUFRdkMsTUFBTUMsT0FDdk1ILFFBQVV3QyxFQUFBQSxPQUFPQyxRQUFRdkMsTUFBTUUsT0FDL0JULFVBQVk2QyxFQUFBQSxPQUFPQyxRQUFRdkMsTUFBTU0sWUFBY1IsUUFBVXdDLEVBQUFBLE9BQU9DLFFBQVF2QyxNQUFNRSxLQUM5RVQsVUFBVXVCLFNBQVdzQixFQUFBQSxPQUFPQyxRQUFRdkMsTUFBcEMsR0FBK0NNLFlBQWNSLFFBQVV3QyxFQUFBQSxPQUFPQyxRQUFRdkMsTUFBTUUsS0FDNUZlLGFBQWFZLFFBQWJaLE9BQUFBLE9BQUFvQixFQUFBQyxPQUE4QkEsUUFBT0MsS0FBckN0QixTQUFBbkIsUUFBMERBLEVBQUFBLE9BQVN5QyxRQUFRQSxNQUFBQSxNQUMzRVIsa0JBR0VVLGNBQWdCLFdBQ2xCM0MsUUFBUTRDLFFBQVEsU0FBQUMsRUFBQ0EsR0FBRCxPQUFTQyxFQUFUMUMsS0FBQWMsU0FBQUMsYUFBQUMsUUFBQSxPQUFBMkIsT0FBQUQsRUFBQSxZQUFBNUIsU0FBQXZCLFVBQUFtRCxHQUFBdEMsZUFBQWIsVUFBbUJrRCxRQUFBLFNBQUFHLEVBQWM5QixHQUFkLE9BQW9DRSxFQUFiWixhQUFhWSxHQUFiRCxFQUE0QjJCLFFBQTVCQSxFQUFBLEdBQWlFQSxRQUFPdEMsSUFBakZKLE9BQWpEd0IsUUFBQUMsSUFBQTdCLFVBUUosU0FBU2lELGFBSlR4RCxhQUFnQm1ELFFBQVEsV0FBR3pCLGFBQUFDLFFBQUEsYUFFM0J1QixjQUFhbkMsWUFBYm1DLElBQUFBLE9BQWF6QixTQUFBQyxhQUFBQyxRQUFBLFdBQUFZLGtCQVFUeEMsYUFBYWdCLFlBQWIsR0FBQXVDLE9BQThCNUIsYUFBYUMsUUFBUSxhQWJqQzNCLGdCQUFxQm1ELFFBQVFJLFNBQUFBLEdBQUFBLE9BQUt4QyxFQUFBQSxpQkFBc0JzQyxRQUFSUixlQUFoRHhDLGdCQUFsQm9ELGlCQUFBLFFBQUFiLGNBQ0FULGdCQU9BcUIiLCJmaWxlIjoiY29tcHV0ZS1taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuY29uc3QgZGF5c0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGF5cycpO1xyXG5jb25zdCBtb25leUdhdGhlcmVkPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbW9uZXknKTtcclxuY29uc3QgYmFyRmlsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19wcm9ncmVzc2Jhci0tZmlsbCcpO1xyXG5jb25zdCBiYWNrZXJzVG90YWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fYmFja2VycycpO1xyXG5jb25zdCBjb250aW51ZUJ1dHRvbnM9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W2RhdGEtdGllcl0nKTtcclxuY29uc3QgaXRlbXNMZWZ0PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY291bnRlcicpO1xyXG5jb25zdCBwbGVkZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYmFjaycpO1xyXG5jb25zdCBtb2RhbENvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbmZpcm0nKTtcclxuY29uc3QgbW9kYWxDb25maXJtQnRuID0gbW9kYWxDb25maXJtLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY29uZmlybV9fYnRuJyk7XHJcbmNvbnN0IG1vZGFsU2hhZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19zaGFkb3cnKTtcclxuY29uc3QgcmV3YXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAnQmFtYm9vJyxcclxuICAgICAgICB0aWVyOiAxLFxyXG4gICAgICAgIHZhbHVlOiAyNSxcclxuICAgICAgICBsZWZ0OiAxMDFcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZTogJ0JsYWNrJyxcclxuICAgICAgICB0aWVyOiAyLFxyXG4gICAgICAgIHZhbHVlOiA3NSxcclxuICAgICAgICBsZWZ0OiA2NFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lOiAnTWFob2dhbnknLFxyXG4gICAgICAgIHRpZXI6IDMsXHJcbiAgICAgICAgdmFsdWU6IDIwMCxcclxuICAgICAgICBsZWZ0OiAwXHJcbiAgICB9XTtcclxuXHJcbi8vUmVtYWluaW5nIGRheXNcclxuY29uc3QgY291bnREYXlzID0gKHNlbGVjdGVkRGF0ZSkgPT4ge1xyXG4gICAgY29uc3QgZW5kRGF0ZSA9IHNlbGVjdGVkRGF0ZS5nZXRUaW1lKCk7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIGNvbnN0IHJlbWFpbmluZ0RheXMgPSBNYXRoLmZsb29yKCgoZW5kRGF0ZSAtIG5vdykgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpKTtcclxuICAgIGRheXNMZWZ0LnRleHRDb250ZW50ID0gcmVtYWluaW5nRGF5cztcclxufVxyXG5jb3VudERheXMobmV3IERhdGUoJ0p1biAyMywgMjAyMiAxNTowMDowMCcpKTtcclxuXHJcbi8vU2V0IGJhciB3aWR0aFxyXG5jb25zdCBjb21wdXRlQmFja2VkTW9uZXkgPSAoZ29hbCkgPT4ge1xyXG4gICAgbGV0IGdhdGhlcmVkID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Ftb3VudCcpKSB8fCBwYXJzZUludChtb25leUdhdGhlcmVkLnRleHRDb250ZW50LnNsaWNlKDEsIG1vbmV5R2F0aGVyZWQudGV4dENvbnRlbnQubGVuZ3RoKS5yZXBsYWNlKCcsJywgJycpKTtcclxuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLmZsb29yKChnYXRoZXJlZCAvMTAwMCAqIDEwMCkgLyBnb2FsKTtcclxuICAgIGJhckZpbGwuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50YWdlfSVgO1xyXG59XHJcbmNvbXB1dGVCYWNrZWRNb25leSgxMDApO1xyXG5cclxuLy9BZGQgbW9uZXkgdG8gZ29hbFxyXG5jb25zdCBhZGRNb25leUFuZEJhY2tlciA9IChtb25leUFtb3VudCkgPT4ge1xyXG4gICAgbGV0IGdhdGhlcmVkID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Ftb3VudCcpKSB8fCBwYXJzZUludChtb25leUdhdGhlcmVkLnRleHRDb250ZW50LnNsaWNlKDEsIG1vbmV5R2F0aGVyZWQudGV4dENvbnRlbnQubGVuZ3RoKS5yZXBsYWNlKCcsJywgJycpKTtcclxuICAgIGNvbnNvbGUubG9nKGdhdGhlcmVkKTtcclxuICAgIGxldCBiYWNrZXJzID0gIHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYWNrZXJzJykpIHx8IHBhcnNlSW50KGJhY2tlcnNUb3RhbC50ZXh0Q29udGVudC5yZXBsYWNlKCcsJywgJycpKTtcclxuICAgIGNvbnNvbGUubG9nKGJhY2tlcnMpO1xyXG4gICAgZ2F0aGVyZWQrPW1vbmV5QW1vdW50O1xyXG4gICAgYmFja2VycysrO1xyXG4gICAgbW9uZXlHYXRoZXJlZC50ZXh0Q29udGVudD1gJCR7Z2F0aGVyZWQudG9Mb2NhbGVTdHJpbmcoKX1gO1xyXG4gICAgYmFja2Vyc1RvdGFsLnRleHRDb250ZW50ID0gYCR7YmFja2Vycy50b0xvY2FsZVN0cmluZygpfWA7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYW1vdW50JywgZ2F0aGVyZWQpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JhY2tlcnMnLCBiYWNrZXJzKTtcclxuICAgIFxyXG4gICAgY29tcHV0ZUJhY2tlZE1vbmV5KDEwMCk7XHJcbn1cclxuLy9yZWF3cmRzXHJcbmNvbnN0IGNvbmZpcm1QbGVkZ2UgPSAoKSA9PiB7XHJcbiAgICBpZihwbGVkZ2VNb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsX19iYWNrLS1hY3RpdmUnKSB8fCBtb2RhbFNoYWRvdy5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsX19zaGFkb3ctLWFjdGl2ZScpKVxyXG4gICAge1xyXG4gICAgICAgIHBsZWRnZU1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsX19iYWNrLS1hY3RpdmUnKTtcclxuICAgICAgICBtb2RhbENvbmZpcm0uY2xhc3NMaXN0LmFkZCgnbW9kYWxfX2NvbmZpcm0tLWFjdGl2ZScpO1xyXG4gICAgfVxyXG59XHJcbmNvbnN0IGNsb3NlQ29uZmlybSA9ICgpID0+IHtcclxuICAgIG1vZGFsQ29uZmlybS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9fY29uZmlybS0tYWN0aXZlJyk7XHJcbiAgICBtb2RhbFNoYWRvdy5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbF9fc2hhZG93LS1hY3RpdmUnKTtcclxufVxyXG5jb25zdCBoYW5kbGVPcmRlciA9IChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAocmV3YXJkc1tlLnRhcmdldC5kYXRhc2V0LnRpZXJdLmxlZnQgPD0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiJWNPVVQgT0YgU1RPQ0sgRFVERSEhXCIsIFwiY29sb3I6cmVkOyBmb250LXNpemU6MzZweFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAgcGFyc2VJbnQoZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy52YWx1ZSkgIT0gcmV3YXJkc1tlLnRhcmdldC5kYXRhc2V0LnRpZXJdLnZhbHVlID8gYWRkTW9uZXlBbmRCYWNrZXIoZS50YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZy52YWx1ZSkgOiBhZGRNb25leUFuZEJhY2tlcihyZXdhcmRzW2UudGFyZ2V0LmRhdGFzZXQudGllcl0udmFsdWUpO1xyXG4gICAgcmV3YXJkc1tlLnRhcmdldC5kYXRhc2V0LnRpZXJdLmxlZnQtLTtcclxuICAgIGl0ZW1zTGVmdFtlLnRhcmdldC5kYXRhc2V0LnRpZXJdLnRleHRDb250ZW50ID0gcmV3YXJkc1tlLnRhcmdldC5kYXRhc2V0LnRpZXJdLmxlZnQ7XHJcbiAgICBpdGVtc0xlZnRbcGFyc2VJbnQoZS50YXJnZXQuZGF0YXNldC50aWVyKSArIDNdLnRleHRDb250ZW50ID0gcmV3YXJkc1tlLnRhcmdldC5kYXRhc2V0LnRpZXJdLmxlZnQ7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgdGllciR7ZS50YXJnZXQuZGF0YXNldC50aWVyfS1sZWZ0YCwgcmV3YXJkc1tlLnRhcmdldC5kYXRhc2V0LnRpZXJdLmxlZnQpO1xyXG4gICAgY29uZmlybVBsZWRnZSgpO1xyXG4gICAgXHJcbn1cclxuY29uc3QgZ2V0SXRlbXNTdG9jayA9ICgpID0+IHtcclxuICAgIHJld2FyZHMuZm9yRWFjaCgocmV3YXJkLCBpbmRleCkgPT4gcmV3YXJkLmxlZnQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgdGllciR7aW5kZXh9LWxlZnRgKSkgfHwgcGFyc2VJbnQoaXRlbXNMZWZ0W2luZGV4XS50ZXh0Q29udGVudCkpO1xyXG4gICAgaXRlbXNMZWZ0LmZvckVhY2goKGl0ZW0sIGluZGV4KT0+IGluZGV4ID49IDMgPyBpdGVtLnRleHRDb250ZW50ID0gcmV3YXJkc1tpbmRleC0zXS5sZWZ0IDogaXRlbS50ZXh0Q29udGVudCA9IHJld2FyZHNbaW5kZXhdLmxlZnQpO1xyXG4gICAgY29uc29sZS5sb2cocmV3YXJkcyk7XHJcbn1cclxuY29udGludWVCdXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU9yZGVyKSk7XHJcbm1vZGFsQ29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlQ29uZmlybSk7XHJcbmdldEl0ZW1zU3RvY2soKTtcclxuXHJcbmZ1bmN0aW9uIGZldGNoTW9uZXkoKSB7XHJcbiAgICBpZighbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Ftb3VudCcpIHx8ICFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFja2VycycpKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIG1vbmV5R2F0aGVyZWQudGV4dENvbnRlbnQgPSBgJCR7cGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Ftb3VudCcpKS50b0xvY2FsZVN0cmluZygpfWA7XHJcbiAgICBiYWNrZXJzVG90YWwudGV4dENvbnRlbnQgPSBgJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmFja2VycycpfWA7XHJcbn1cclxuZmV0Y2hNb25leSgpOyJdfQ==
